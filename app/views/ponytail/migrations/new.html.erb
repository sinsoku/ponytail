<%= render 'ponytail/templates/table' %>
<%= render 'ponytail/templates/column' %>

<div class="new">
  <div class="header">
    <a href="/ponytail/migrations">index</a>
    <span>|</span>
    <span>new</span>
  </div>

  <% notice = @migration.errors.full_messages if @migration.errors.any? %>
  <% if notice %>
    <div class="notice">
      <div class="message"><%= notice %></div>
      <div class="close"><a href="#">x</a></div>
    </div>
  <% end %>

  <div class="container">
    <div class="tables">
      <div class="new_table"><i class="fa fa-plus-circle fa-fw"></i>New Table</div>
    </div>

    <div class="migration_file">
      <div class="migration_file_header">
        <div class="classname">
          <input type="text" value="NewMigration" />
        </div>

        <div class="edit_checkbox">
          <input type="checkbox" />
          <span>edit</span>
        </div>
      </div>

      <div class="raw_content">
        <pre><code></code></pre>
        <textarea></textarea>
      </div>

      <div class="actions">
        <% if Ponytail.config.update_schema? %>
          <button class="create_button">Create File</button>
        <% else %>
          <button class="create_button" disabled="disabled">Create File</button>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script type='text/javascript'>
  new Ponytail.Views.MigrationsNew({el: $(".new")}).render();
</script>
